{"version":3,"sources":["logo.svg","context/MapContext.js","context/QuestionnaireContext.js","hooks/useQuestions.js","hooks/useLayerUtilities.js","hooks/useLayerColors.js","hooks/useLayerStyles.js","context/LayerContext.js","components/MapKeyboardEventHandler.js","components/map/Map.js","components/FileUploader.js","components/aria-components/Button.js","components/controls/Controls.js","components/color/DualColorLabel.js","components/room-information/RoomInformation.js","components/options/colors/OptionColors.js","components/options/legend/OptionLegend.js","components/aria-components/Switch.js","components/options/patterns/OptionPattern.js","components/options/fonts/OptionFonts.js","components/options/Options.js","components/Questions.js","components/Questionnaire.js","components/aria-components/table/Table.js","components/KeyboardShortcuts.js","components/shortcuts/Shortcuts.js","components/title/Title.js","Dashboard.js","App.js","reportWebVitals.js","index.js"],"names":["MapContext","createContext","MapProvider","props","useState","mapPanZoom","setMapPanZoom","process","svgPath","setSvgPath","rootFocus","useRef","patterns","setPatterns","mapTitle","setMapTitle","Provider","value","focusRoot","current","focus","children","QuestionnaireContext","QuestionnaireProvider","orginalResponses","question","response","editableResponse","setEditableResponse","commitedResponse","setCommitedResponse","LOCAL_STORAGE_KEY","useEffect","initialResponse","pullResponseLocalStorage","clonedIntitialResponseEditable","map","foo","clonedIntitialResponseCommited","localStorage","JSON","parse","getItem","err","console","error","pushResponseLocalStorage","setItem","stringify","makeEdits","i","j","commitEdits","clonedEditableResponse","resetEdits","clonedCommitedResponse","useQuestions","questBitField","useMemo","acm","counter","length","calculateBitField","layerClassTranslator","obstacle","fullName","gradientKey","icon","tactile","entry","stairs","lift","toilet","unlisted","inactive","passage","useLayerUtilities","getTranslation","key","getClassKeys","Object","keys","getLayerClassIterator","callback","entries","forEach","useLayerColors","layerColorIndexMap","originalColorPalette","layerColors","setLayerColors","colorPalette","setColorPallete","generateLayerColorsFromPalette","palette","_layerColors","primary","secondary","_addColorToPaletteAndIndex","colorType","color","_layerStyle","_colorPalette","includes","Error","colorIndex","findIndex","push","resetColorPalette","pullLayerStylesFromSVG","svgEl","_layerColorIndexMap","_colorIndex","gradientEl","getElementById","primaryColorStop","querySelector","secondaryColorStop","primaryColor","getAttribute","secondaryColor","pushLayerStylesToSVG","colorStops","querySelectorAll","setAttribute","layerFontFamilies","layerFontWeights","useLayerStyles","selectedFontFamily","setSelectedFontFamily","selectedFontWeight","setSelectedFontWeight","LayerContext","LayerProvider","label","description","class","layerInfo","setLayerInfo","layerStyleSheet","MapKeyboardEventHandler","handleFocusableElements","handleKeys","onKeyEvent","zoomIn","zoomOut","fit","center","panBy","x","y","svgPanZoom","require","Map","className","rootGroupEl","useContext","iterateLayers","layer","updateLayer","updatePatterns","makeStyles","theme","font","fontFamily","typography","fontWeight","useStyles","dataset","layerPattern","onLayerFocus","e","target","roomLabelledBy","layerBitField","roomDescribedBy","roomTitle","roomDesc","textContent","classList","onLayerBlur","layerState","parseInt","contains","tabIndex","isActive","src","onError","onLoad","zoomEnabled","dblClickZoomEnabled","preventMouseEventsDefault","zoomAtPoint","addEventListener","innerRef","FileUploader","type","name","onChange","event","files","reader","FileReader","onload","result","readAsDataURL","Button","ref","buttonProps","useButton","Controls","log","onPress","ArrowBack","ArrowUpward","ArrowDownward","ArrowForward","Add","Remove","RotateLeft","DualColorLabel","left","right","edgeWidth","classes","borderLeft","borderRight","RoomInformation","iconColor","header","OptionColors","colorChangeTimeout","clearTimeout","setTimeout","bar","variant","onClick","OptionLegend","Switch","state","useToggleState","React","inputProps","useSwitch","useFocusRing","isFocusVisible","focusProps","width","height","style","marginRight","rx","fill","isSelected","cx","cy","r","stroke","strokeWidth","OptionPattern","OptionFonts","selected","weight","Options","Divider","questionRow","display","fontSize","flexDirection","justifyContent","paddingTop","paddingBottom","paddingLeft","paddingRight","RadioContext","RadioGroup","useRadioGroupState","useRadioGroup","radioGroupProps","labelProps","Radio","useRadio","Questions","onRadioChange","appBar","position","backgroundColor","title","marginLeft","spacing","flex","button","marginTop","marginBottom","card","alignSelf","Transition","forwardRef","Slide","direction","Questionnaire","open","setOpen","handleClickOpen","handleClose","fullWidth","Dialog","fullScreen","onClose","TransitionComponent","AppBar","Toolbar","IconButton","edge","Typography","autoFocus","Card","sx","CardHeader","CardContent","TableRowGroup","Element","rowGroupProps","useTableRowGroup","TableHeaderRow","item","rowProps","useTableHeaderRow","node","TableColumnHeader","column","columnHeaderProps","useTableColumnHeader","arrowIcon","sortDescriptor","mergeProps","colSpan","colspan","textAlign","padding","outline","cursor","rendered","allowsSorting","visibility","TableRow","selectionManager","useTableRow","background","index","TableCell","cell","gridCellProps","useTableCell","TableCheckboxCell","checkboxProps","useTableSelectionCheckbox","parentKey","inputRef","useCheckbox","TableSelectAllCell","selectionMode","useTableSelectAllCheckbox","Table","useTableState","showSelectionCheckboxes","collection","gridProps","useTable","borderCollapse","borderBottom","headerRows","headerRow","childNodes","isSelectionCell","body","row","cardContent","alignItems","Key","boxShadow","borderRadius","minWidth","KeyboardShortcuts","category","shortcut","Shortcuts","Title","Dashboard","THEME","createTheme","fontWeightLight","fontWeightRegular","fontWeightMedium","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document"],"mappings":"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","file":"static/js/main.304b5e59.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { createContext, useState, useRef } from \"react\";\n\n//create a context, with createContext api\nexport const MapContext = createContext();\n\nconst MapProvider = (props) => {\n  // this state will be shared with all components\n  const [mapPanZoom, setMapPanZoom] = useState();\n  const [svgPath, setSvgPath] = useState(\n    `${process.env.PUBLIC_URL}/svg/retail_center.svg`\n  );\n  // TODO Move some state variables to LayerContext\n  const rootFocus = useRef(null);\n  const [patterns, setPatterns] = useState(false);\n\n  const [mapTitle, setMapTitle] = useState(\"No map selected!\");\n\n  const focusRoot = () => {\n    if (rootFocus.current) {\n      rootFocus.current.focus();\n    }\n  };\n\n  return (\n    <MapContext.Provider\n      value={{\n        mapPanZoom,\n        setMapPanZoom,\n        rootFocus,\n        focusRoot,\n        svgPath,\n        setSvgPath,\n        patterns,\n        setPatterns,\n        mapTitle,\n        setMapTitle,\n      }}\n    >\n      {props.children}\n    </MapContext.Provider>\n  );\n};\n\nexport default MapProvider;\n","import { createContext, useState, useMemo } from \"react\";\nimport useQuestions from \"../hooks/useQuestions\";\n\n//create a context, with createContext api\nexport const QuestionnaireContext = createContext();\n\nconst QuestionnaireProvider = (props) => {\n  const {\n    editableResponse,\n    commitedResponse,\n    makeEdits,\n    commitEdits,\n    resetEdits,\n  } = useQuestions();\n\n  const calculateBitField = (response) => {\n    if (response) {\n      // acm => Accumulator\n      let acm = 0;\n      // Binary number would be {question 7 response}{question 6 response}...{question 1 response}\n      // 000000001 & 10000000 = 0 = 0\n      // 1101 & 1000000101 = 0101 = 5\n      // 13 & 69 = 5\n      let counter = 0;\n      while (counter < response.length) {\n        let responseNumber = response[counter].response == \"yes\" ? 1 : 0;\n        acm += responseNumber * 2 ** counter;\n        counter++;\n      }\n      return acm;\n    } else {\n      return 0;\n    }\n  };\n\n  const questBitField = useMemo(\n    () => (commitedResponse ? calculateBitField(commitedResponse) : 0),\n    [commitedResponse]\n  );\n\n  return (\n    <QuestionnaireContext.Provider\n      value={{\n        editableResponse,\n        commitedResponse,\n        makeEdits,\n        commitEdits,\n        resetEdits,\n        questBitField,\n      }}\n    >\n      {props.children}\n    </QuestionnaireContext.Provider>\n  );\n};\n\nexport default QuestionnaireProvider;\n","import { useState, useEffect } from \"react\";\n\nexport default function useQuestions() {\n  // original questions\n  const orginalResponses = [\n    {\n      question: \"Do you experience a mobility impairment?\",\n      response: null,\n    },\n    {\n      question: \"Do you experience a colour impairment?\",\n      response: null,\n    },\n    {\n      question: \"Do you have low vision?\",\n      response: null,\n    },\n    {\n      question: \"Do you have difficulty reading?\",\n      response: null,\n    },\n    {\n      question: \"Do you have difficulty operating doors?\",\n      response: null,\n    },\n    {\n      question: \"Do obstacles disrupt your indoor navigation?\",\n      response: null,\n    },\n    {\n      question: \"Do you have difficulty locating toilets in large buildings?\",\n      response: null,\n    },\n  ];\n  // The Questionaire Form is a multi-step form. Users have the option of opting out of any potential\n  // changes they make. Therefore we need to maintain two separate state variables for the response that\n  // is currently being edited, and the final commited one. Once the user confirms their questionaire response,\n  // we copy the contents of editableResponse, to commitedResponse\n  const [editableResponse, setEditableResponse] = useState(null);\n  const [commitedResponse, setCommitedResponse] = useState(null);\n  const LOCAL_STORAGE_KEY = \"cachedResponse\";\n\n  useEffect(() => {\n    // Get Questions From Local Storage\n    // If there is no response from local storage, then make the initial response the original questions\n    // initialResponse needs to be cloned to avoid the same object being referenced by editableResponse\n    // and commitedResponse. They need to be isolated from one another\n    const initialResponse = pullResponseLocalStorage() || orginalResponses;\n    const clonedIntitialResponseEditable = initialResponse.map((foo) => ({\n      ...foo,\n    }));\n    const clonedIntitialResponseCommited = initialResponse.map((foo) => ({\n      ...foo,\n    }));\n    setEditableResponse(clonedIntitialResponseEditable);\n    setCommitedResponse(clonedIntitialResponseCommited);\n    return () => {};\n  }, []);\n\n  // Make edits to editableResponse\n  const makeEdits = (i, response) => {\n    setEditableResponse(\n      editableResponse.map((question, j) => {\n        if (i == j) {\n          question.response = response;\n        }\n        return question;\n      })\n    );\n  };\n\n  // Commit any edits made to editableResponse to commitedResponse\n  // Clone editableResposne to avoid object sharing between state variables\n  const commitEdits = () => {\n    const clonedEditableResponse = editableResponse.map((foo) => ({ ...foo }));\n    setCommitedResponse(clonedEditableResponse);\n    pushResponseLocalStorage(clonedEditableResponse);\n  };\n\n  // Reset any edits made to editableResponse => restore the state of editableResponse\n  // to commitedResponse\n  const resetEdits = () => {\n    const clonedCommitedResponse = commitedResponse.map((foo) => ({ ...foo }));\n    setEditableResponse(clonedCommitedResponse);\n  };\n\n  // Pull the cachedResponse from LocalStorage\n  const pullResponseLocalStorage = () => {\n    if (typeof localStorage !== \"undefined\") {\n      try {\n        return JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    // If Local Storage Unavailable or JSON parsing fails, then return null\n    return null;\n  };\n\n  // Push a response to the localStorage unde the LOCAL_STORAGE_KEY\n  const pushResponseLocalStorage = (response) => {\n    if (typeof localStorage !== \"undefined\") {\n      localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(response));\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return {\n    editableResponse,\n    commitedResponse,\n    makeEdits,\n    commitEdits,\n    resetEdits,\n  };\n}\n","import { useState, useRef, useEffect } from \"react\";\n\nconst layerClassTranslator = {\n  obstacle: {\n    fullName: \"Obstacle\",\n    gradientKey: \"gradient--obstacle\",\n    icon: `${process.env.PUBLIC_URL}/icons/obstacle.svg`,\n  },\n  tactile: {\n    fullName: \"Tactile Flooring\",\n    gradientKey: \"gradient--tactile\",\n    icon: `${process.env.PUBLIC_URL}/icons/tactile.svg`,\n  },\n  entry: {\n    fullName: \"Accesible Entry\",\n    gradientKey: \"gradient--entry\",\n    icon: `${process.env.PUBLIC_URL}/icons/entry.svg`,\n  },\n  stairs: {\n    fullName: \"Stairs\",\n    gradientKey: \"gradient--stairs\",\n    icon: `${process.env.PUBLIC_URL}/icons/stairs.svg`,\n  },\n  lift: {\n    fullName: \"Lift\",\n    gradientKey: \"gradient--lift\",\n    icon: `${process.env.PUBLIC_URL}/icons/lift.svg`,\n  },\n  \"support-center\": {\n    fullName: \"Support Center\",\n    gradientKey: \"gradient--support-center\",\n    icon: `${process.env.PUBLIC_URL}/icons/support-center.svg`,\n  },\n  toilet: {\n    fullName: \"Toilet\",\n    gradientKey: \"gradient--toilet\",\n    icon: `${process.env.PUBLIC_URL}/icons/toilet.svg`,\n  },\n  \"accessible-toilet\": {\n    fullName: \"Accessible Toilet\",\n    gradientKey: \"gradient--accessible-toilet\",\n    icon: `${process.env.PUBLIC_URL}/icons/accessible-toilet.svg`,\n  },\n  unlisted: {\n    fullName: \"Unlisted\",\n    gradientKey: \"gradient--unlisted\",\n    icon: `${process.env.PUBLIC_URL}/icons/unlisted.svg`,\n  },\n  inactive: {\n    fullName: \"Point of Interest\",\n    gradientKey: \"gradient--inactive\",\n    icon: `${process.env.PUBLIC_URL}/icons/poi.svg`,\n  },\n  passage: {\n    fullName: \"Passage\",\n    gradientKey: \"gradient--passage\",\n    icon: `${process.env.PUBLIC_URL}/icons/passage.svg`,\n  },\n};\n\nconst useLayerUtilities = () => {\n  const getTranslation = (key) => {\n    return layerClassTranslator[key];\n  };\n\n  const getClassKeys = () => {\n    return Object.keys(layerClassTranslator);\n  };\n\n  const getLayerClassIterator = (callback) => {\n    Object.entries(layerClassTranslator).forEach(([key, value]) => {\n      callback(key, value);\n    });\n  };\n\n  return {\n    getTranslation,\n    getClassKeys,\n    getLayerClassIterator,\n  };\n};\n\nexport default useLayerUtilities;\n","import { useState, useRef, useEffect } from \"react\";\nimport useLayerUtilities from \"./useLayerUtilities\";\n\nconst useLayerColors = () => {\n  const layerColorIndexMap = useRef(null);\n  const originalColorPalette = useRef(null);\n  const [layerColors, setLayerColors] = useState(null);\n  const [colorPalette, setColorPallete] = useState(null);\n  const { getLayerClassIterator, getClassKeys } = useLayerUtilities();\n\n  useEffect(() => {\n    if (colorPalette && layerColorIndexMap.current) {\n      setLayerColors(generateLayerColorsFromPalette(colorPalette));\n    }\n  }, [colorPalette]);\n\n  // This function will pull the gradient information from the SVG element and then\n  // store it in a state JSON object that can be manipulated directly within React\n  const pullLayerStylesFromSVG = (svgEl) => {\n    const _layerColorIndexMap = {};\n    const _colorIndex = [];\n\n    getLayerClassIterator((key, value) => {\n      const gradientKey = value.gradientKey;\n      const gradientEl = svgEl.getElementById(gradientKey);\n      if (gradientEl) {\n        const primaryColorStop = gradientEl.querySelector(\"[offset='0%']\");\n        const secondaryColorStop = gradientEl.querySelector(\"[offset='100%']\");\n\n        const primaryColor = primaryColorStop\n          ? primaryColorStop.getAttribute(\"stop-color\")\n          : null;\n\n        const secondaryColor = secondaryColorStop\n          ? secondaryColorStop.getAttribute(\"stop-color\")\n          : null;\n\n        _addColorToPaletteAndIndex(\n          key,\n          \"primary\",\n          primaryColor,\n          _layerColorIndexMap,\n          _colorIndex\n        );\n        _addColorToPaletteAndIndex(\n          key,\n          \"secondary\",\n          secondaryColor,\n          _layerColorIndexMap,\n          _colorIndex\n        );\n      }\n    });\n\n    layerColorIndexMap.current = _layerColorIndexMap;\n    originalColorPalette.current = _colorIndex;\n    setColorPallete(_colorIndex);\n  };\n\n  // This function will pull the gradient information from the colorPalette object\n  const generateLayerColorsFromPalette = (palette) => {\n    const _layerColors = {};\n    Object.entries(layerColorIndexMap.current).forEach(([key, value]) => {\n      if (!(key in _layerColors)) {\n        _layerColors[key] = {\n          primary: null,\n          secondary: null,\n        };\n      }\n\n      _layerColors[key].primary = palette[value.primary];\n      _layerColors[key].secondary = palette[value.secondary];\n    });\n    return _layerColors;\n  };\n\n  const resetColorPalette = () => {\n    setColorPallete(originalColorPalette.current);\n  };\n\n  const pushLayerStylesToSVG = (svgEl, _layerColors) => {\n    getLayerClassIterator((key, value) => {\n      const gradientKey = value.gradientKey;\n      const gradientEl = svgEl.getElementById(gradientKey);\n      if (gradientEl) {\n        // const primaryColorStop = gradientEl.querySelector(\"[offset='0%']\");\n        // const primaryMidColorStop = gradientEl.querySelector(\"[offset='50%']\");\n        // const secondaryColorStop = gradientEl.querySelector(\"[offset='100%']\");\n\n        const primary = _layerColors[key].primary;\n        const secondary = _layerColors[key].secondary;\n        // if (primary) {\n        //   primaryColorStop.setAttribute(\"stop-color\", primary);\n        // }\n        // if (secondary) {\n        //   secondaryColorStop.setAttribute(\"stop-color\", secondary);\n        // }\n\n        const colorStops = gradientEl.querySelectorAll(\"stop\");\n        if (colorStops.length == 2) {\n          colorStops[0].setAttribute(\"stop-color\", primary);\n          colorStops[1].setAttribute(\"stop-color\", secondary);\n        } else if (colorStops.length == 4) {\n          colorStops[0].setAttribute(\"stop-color\", primary);\n          colorStops[1].setAttribute(\"stop-color\", primary);\n          colorStops[2].setAttribute(\"stop-color\", secondary);\n          colorStops[3].setAttribute(\"stop-color\", secondary);\n        } else {\n          throw new Error(\n            \"Invalid Number of Color Stops (Should be 2 or 4); Number of Stops Provided \" +\n              colorStops.length\n          );\n        }\n      }\n    });\n  };\n\n  const _addColorToPaletteAndIndex = (\n    key,\n    colorType,\n    color,\n    _layerStyle,\n    _colorPalette\n  ) => {\n    // Guard Clauses\n    if (!getClassKeys().includes(key)) {\n      throw new Error(\"Not a valid key; \" + key);\n    }\n    if (colorType !== \"primary\" && colorType !== \"secondary\") {\n      throw new Error(\"Not a valid colorType; \" + colorType);\n    }\n\n    if (!(key in _layerStyle)) {\n      _layerStyle[key] = {};\n    }\n    if (!(colorType in _layerStyle[key])) {\n      _layerStyle[key][colorType] = null;\n    }\n\n    if (color) {\n      const colorIndex = _colorPalette.findIndex((foo) => foo === color);\n      if (colorIndex > -1) {\n        _layerStyle[key][colorType] = colorIndex;\n      } else {\n        _colorPalette.push(color);\n        _layerStyle[key][colorType] = _colorPalette.length - 1;\n      }\n    }\n  };\n\n  return {\n    layerColors,\n    setLayerColors,\n    colorPalette,\n    setColorPallete,\n    resetColorPalette,\n    pullLayerStylesFromSVG,\n    pushLayerStylesToSVG,\n  };\n};\n\nexport default useLayerColors;\n","import { useState, useMemo } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst layerFontFamilies = [\"Arial\", \"Atkinson Hyperlegible\", \"OpenDyslexic\"];\nconst layerFontWeights = [\"bold\", \"normal\"];\n\nconst useLayerStyles = () => {\n  const [selectedFontFamily, setSelectedFontFamily] = useState(\n    layerFontFamilies[0]\n  );\n  const [selectedFontWeight, setSelectedFontWeight] = useState(\n    layerFontWeights[0]\n  );\n\n  return {\n    selectedFontFamily,\n    setSelectedFontFamily,\n    layerFontFamilies,\n    selectedFontWeight,\n    setSelectedFontWeight,\n    layerFontWeights,\n  };\n};\n\nexport default useLayerStyles;\n","import { createContext, useState, useRef } from \"react\";\nimport useLayerColors from \"../hooks/useLayerColors\";\nimport useLayerStyles from \"../hooks/useLayerStyles\";\n\n//create a context, with createContext api\nexport const LayerContext = createContext();\n\nconst LayerProvider = (props) => {\n  const [layerInfo, setLayerInfo] = useState({\n    label: null,\n    description: null,\n    class: null,\n  });\n\n  const {\n    layerColors,\n    setLayerColors,\n    colorPalette,\n    setColorPallete,\n    resetColorPalette,\n    pullLayerStylesFromSVG,\n    pushLayerStylesToSVG,\n  } = useLayerColors();\n\n  const {\n    layerFontFamilies,\n    selectedFontFamily,\n    setSelectedFontFamily,\n    layerFontWeights,\n    selectedFontWeight,\n    setSelectedFontWeight,\n    layerStyleSheet,\n  } = useLayerStyles();\n  //   const [colorPalette, setColorPalette] = useState([\n  //     \"#648FFF\",\n  //     \"#785EF0\",\n  //     \"#DC267F\",\n  //     \"#FE6100\",\n  //     \"#FFB000\",\n  //   ]);\n\n  return (\n    <LayerContext.Provider\n      value={{\n        layerInfo,\n        setLayerInfo,\n        layerColors,\n        setLayerColors,\n        layerFontWeights,\n        selectedFontWeight,\n        setSelectedFontWeight,\n        colorPalette,\n        setColorPallete,\n        resetColorPalette,\n        pullLayerStylesFromSVG,\n        pushLayerStylesToSVG,\n        layerFontFamilies,\n        selectedFontFamily,\n        setSelectedFontFamily,\n        layerStyleSheet,\n        // colorPalette,\n        // setColorPalette,\n      }}\n    >\n      {props.children}\n    </LayerContext.Provider>\n  );\n};\n\nexport default LayerProvider;\n","import React from \"react\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\n\nconst MapKeyboardEventHandler = ({ mapPanZoom }) => (\n  /**\n   * Could potentially implement key combinations to move diagnolally\n   */\n  <>\n    <KeyboardEventHandler\n      handleFocusableElements={true}\n      //className={classes.map}\n      handleKeys={[\"shift+=\"]}\n      onKeyEvent={() => mapPanZoom.zoomIn()}\n    />\n    <KeyboardEventHandler\n      handleFocusableElements={true}\n      //className={classes.map}\n      handleKeys={[\"shift+-\"]}\n      onKeyEvent={() => mapPanZoom.zoomOut()}\n    />\n    <KeyboardEventHandler\n      handleFocusableElements={true}\n      //className={classes.map}\n      handleKeys={[\"r\"]}\n      onKeyEvent={() => {\n        mapPanZoom.fit();\n        mapPanZoom.center();\n      }}\n    />\n    <KeyboardEventHandler\n      handleFocusableElements={true}\n      //className={classes.map}\n      handleKeys={[\"shift+right\"]}\n      onKeyEvent={() => mapPanZoom.panBy({ x: -20, y: 0 })}\n    />\n    <KeyboardEventHandler\n      handleFocusableElements={true}\n      //className={classes.map}\n      handleKeys={[\"shift+left\"]}\n      onKeyEvent={() => mapPanZoom.panBy({ x: 20, y: 0 })}\n    />\n    <KeyboardEventHandler\n      handleFocusableElements={true}\n      //className={classes.map}\n      handleKeys={[\"shift+up\"]}\n      onKeyEvent={() => mapPanZoom.panBy({ x: 0, y: 20 })}\n    />\n    <KeyboardEventHandler\n      handleFocusableElements={true}\n      //className={classes.map}\n      handleKeys={[\"shift+down\"]}\n      onKeyEvent={() => mapPanZoom.panBy({ x: 0, y: -20 })}\n    />\n  </>\n);\n\nexport default MapKeyboardEventHandler;\n","import React, {\n  useRef,\n  useContext,\n  useEffect,\n  useMemo,\n  useCallback,\n} from \"react\";\nimport \"./Map.scss\";\n\nimport { MapContext } from \"../../context/MapContext\";\nimport { QuestionnaireContext } from \"../../context/QuestionnaireContext\";\nimport { LayerContext } from \"../../context/LayerContext\";\nimport SVG from \"react-inlinesvg\";\nimport MapKeyboardEventHandler from \"../MapKeyboardEventHandler\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nimport { makeStyles } from \"@material-ui/core\";\nconst svgPanZoom = require(\"svg-pan-zoom\");\n\nconst Map = ({ className }) => {\n  // useRef References\n  const svgEl = useRef(null);\n  const rootGroupEl = useRef(null);\n  const {\n    mapPanZoom,\n    setMapPanZoom,\n    focusRoot,\n    svgPath,\n    patterns,\n    setMapTitle,\n  } = useContext(MapContext);\n  const { questBitField } = useContext(QuestionnaireContext);\n  const {\n    setLayerInfo,\n    layerColors,\n    pullLayerStylesFromSVG,\n    pushLayerStylesToSVG,\n    selectedFontWeight,\n  } = useContext(LayerContext);\n\n  useEffect(() => {\n    iterateLayers((layer) => {\n      updateLayer(questBitField, layer);\n    });\n  }, [questBitField]);\n\n  useEffect(() => {\n    updatePatterns();\n  }, [patterns]);\n\n  useEffect(() => {\n    if (svgEl.current && layerColors) {\n      pushLayerStylesToSVG(svgEl.current, layerColors);\n    }\n  }, [layerColors]);\n\n  // CSS\n  const useStyles = makeStyles((theme) => {\n    return {\n      font: {\n        \"& [data-layer-type='txt']\": {\n          fontFamily: theme.typography.fontFamily,\n          fontWeight: selectedFontWeight,\n        },\n      },\n    };\n  });\n\n  const layerStyleSheet = useStyles();\n\n  // Layer Iterator\n  // Includes a guard clause to prevent iterating through layers if they are not set\n  const iterateLayers = (callback) => {\n    if (!svgEl.current) {\n      return;\n    }\n    svgEl.current\n      .querySelectorAll(\"[data-layer-type='layer']\")\n      .forEach((layer) => {\n        callback(layer);\n      });\n  };\n\n  // Update Patterns\n  const updatePatterns = () => {\n    if (rootGroupEl.current) {\n      rootGroupEl.current.dataset.layerPattern = patterns ? \"1\" : \"0\";\n    }\n  };\n\n  // According to W3C draft, the focus event is fired AFTER the previous element has fired the blur event\n  // ****** Focus + Blur Fuctions (START) ******\n  const onLayerFocus = (e) => {\n    const layer = e.target;\n    const { layerBitField } = layer.dataset;\n    const roomLabelledBy = layer.getAttribute(\"aria-labelledby\");\n    const roomDescribedBy = layer.getAttribute(\"aria-describedby\");\n    const roomTitle = svgEl.current.getElementById(roomLabelledBy);\n    const roomDesc = svgEl.current.getElementById(roomDescribedBy);\n\n    setLayerInfo({\n      label: roomTitle ? roomTitle.textContent : null,\n      description: roomDesc ? roomDesc.textContent : null,\n      class: layer.classList.length === 1 ? layer.classList[0] : null,\n    });\n  };\n\n  const onLayerBlur = (e) => {\n    setLayerInfo({\n      label: null,\n      description: null,\n      class: null,\n    });\n  };\n  // ****** Focus + Blur Fuctions (END) ******\n  // Placeholder\n  const onError = (e) => {};\n\n  // Placeholder\n  const onLoad = (e) => {\n    setMapTitle(\n      svgEl.current.getElementById(\"svg--title\")\n        ? svgEl.current.getElementById(\"svg--title\").textContent\n        : \"Untitled\"\n    );\n    // Initialize SVG Pan Zoom\n    // Set a reference to the root group so that we can interact with it to affect global properties\n    rootGroupEl.current = svgEl.current.querySelector(\n      \"[data-layer-type='root']\"\n    );\n    const foo = svgPanZoom(svgEl.current, {\n      zoomEnabled: true,\n      dblClickZoomEnabled: false,\n      preventMouseEventsDefault: false,\n      // controlIconsEnabled: false,\n    });\n    foo.zoomAtPoint(1, { x: 447, y: 183 });\n    setMapPanZoom(foo);\n\n    // Pull SVG Color Information\n    pullLayerStylesFromSVG(svgEl.current);\n    // pushLayerStyles(svgEl.current);\n    // Set Layer Event Listeners\n    iterateLayers((layer) => {\n      layer.addEventListener(\"focus\", onLayerFocus);\n      layer.addEventListener(\"blur\", onLayerBlur);\n      updateLayer(questBitField, layer);\n    });\n\n    // Update Global\n    updatePatterns();\n  };\n\n  // Tabbing Order\n  // Activated Layers -> Neutral Layers -> Inactive Layers\n  const updateLayer = (questBitField, layer) => {\n    let { layerBitField, layerState } = layer.dataset;\n    layerBitField = parseInt(layerBitField);\n    layerState = parseInt(layerState);\n\n    // Handling .passage edge case\n    if (layer.classList.contains(\"passage\")) {\n      layer.tabIndex = \"-1\";\n      layer.dataset.layerState = \"1\";\n      return;\n    }\n\n    if (layerState > -1) {\n      // We can dynamically set the tab index to prioritise the tabbing of activated layers\n      // A tabbIndex of 1 will be higher on the tabbing priority compared to a tabIndex of 2\n      let isActive = false;\n      if (layerBitField) {\n        isActive = (questBitField & layerBitField) > 0;\n      }\n\n      layer.tabIndex = isActive ? \"1\" : \"2\";\n      layer.dataset.layerState = isActive ? \"1\" : \"0\";\n    } else {\n      // A tabbIndex of 3 will be lower on the tabbing priority compared to a tabIndex of 2\n      layer.tabIndex = \"-1\";\n      layer.dataset.layerState = \"-1\";\n    }\n  };\n\n  return (\n    <div className={`${className} map`}>\n      <MapKeyboardEventHandler mapPanZoom={mapPanZoom} />\n      <KeyboardEventHandler handleKeys={[\"esc\"]} onKeyEvent={focusRoot}>\n        <SVG\n          className={`map-svg ${layerStyleSheet.font}`}\n          src={svgPath}\n          onError={onError}\n          onLoad={onLoad}\n          innerRef={svgEl}\n        />\n      </KeyboardEventHandler>\n    </div>\n  );\n};\n\nexport default Map;\n","import React, { useContext } from \"react\";\nimport { MapContext } from \"../context/MapContext\";\n\nfunction FileUploader({ className }) {\n  const { setSvgPath } = useContext(MapContext);\n  const changeHandler = (event) => {\n    let fileToUpload = event.target.files[0];\n    let reader = new FileReader();\n    reader.onload = (event) => {\n      setSvgPath(event.target.result);\n    };\n    reader.readAsDataURL(event.target.files[0]);\n  };\n\n  return (\n    <input\n      className={className}\n      type=\"file\"\n      name=\"Floor Plan\"\n      onChange={changeHandler}\n    />\n  );\n}\n\nexport default FileUploader;\n","import React, { useRef } from \"react\";\nimport { useButton } from \"@react-aria/button\";\n\nfunction Button(props) {\n  let ref = useRef();\n  let { buttonProps } = useButton(props, ref);\n  let { children } = props;\n\n  return (\n    <button {...buttonProps} ref={ref}>\n      {children}\n    </button>\n  );\n}\n\nexport default Button;\n","import React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { MapContext } from \"../../context/MapContext\";\nimport FileUploader from \"../FileUploader\";\nimport \"./Controls.scss\";\nimport Button from \"../aria-components/Button\";\nimport {\n  ArrowUpward,\n  Add,\n  Remove,\n  ArrowBack,\n  ArrowDownward,\n  ArrowForward,\n  RotateLeft,\n} from \"@material-ui/icons\";\n\nconst Controls = ({ className }) => {\n  const { mapPanZoom, rootFocus } = useContext(MapContext);\n  console.log(rootFocus);\n\n  return (\n    <div className={`${className} controls`}>\n      <h1 tabIndex=\"0\" ref={rootFocus}>\n        Controls\n      </h1>\n      {mapPanZoom && (\n        <div className=\"controls-buttons\">\n          <Button\n            // Root Focus Defines What Element We Automatically Tab To When ESC is pressed\n            onPress={() => mapPanZoom.panBy({ x: 20, y: 0 })}\n            aria-label=\"Pan Map Left\"\n          >\n            <ArrowBack />\n          </Button>\n          <Button\n            onPress={() => mapPanZoom.panBy({ x: 0, y: 20 })}\n            aria-label=\"Pan Map Up\"\n          >\n            <ArrowUpward />\n          </Button>\n          <Button\n            onPress={() => mapPanZoom.panBy({ x: 0, y: -20 })}\n            aria-label=\"Pan Map Down\"\n          >\n            <ArrowDownward />\n          </Button>\n          <Button\n            onPress={() => mapPanZoom.panBy({ x: -20, y: 0 })}\n            aria-label=\"Pan Map Right\"\n          >\n            <ArrowForward />\n          </Button>\n          <Button\n            onPress={() => mapPanZoom.zoomIn()}\n            aria-label=\"Zoom In on Map\"\n          >\n            <Add />\n          </Button>\n          <Button\n            onPress={() => mapPanZoom.zoomOut()}\n            aria-label=\"Zoom Out on Map\"\n          >\n            <Remove />\n          </Button>\n          <Button\n            onPress={() => {\n              mapPanZoom.fit();\n              mapPanZoom.center();\n            }}\n            aria-label=\"Restore Map Zoom\"\n          >\n            <RotateLeft />\n          </Button>\n        </div>\n      )}\n      <h1 class=\"u-margin-left-auto u-margin-right-md\">Change Floor Plan</h1>\n      <FileUploader className={\"controls-file-uploader\"} />\n    </div>\n  );\n};\n\nexport default Controls;\n","import React from \"react\";\nimport \"./DualColorLabel.scss\";\nimport { makeStyles } from \"@material-ui/styles\";\n\nexport const DualColorLabel = ({ children, left, right, className }) => {\n  // left => Left Left\n  // right => Right Edge\n  const edgeWidth = \"1rem\";\n  const useStyles = makeStyles((theme) => ({\n    label: {\n      borderLeft: `${edgeWidth} solid ${left}`,\n      borderRight: `${edgeWidth} solid ${right}`,\n    },\n  }));\n\n  const classes = useStyles();\n\n  return (\n    <span tabIndex=\"0\" class={`${classes.label} dual-color-label ${className}`}>\n      {children}\n    </span>\n  );\n};\n","import React, { useContext, useState, useMemo, useCallback } from \"react\";\nimport \"./RoomInformation.scss\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport SVG from \"react-inlinesvg\";\nimport { LayerContext } from \"../../context/LayerContext\";\nimport { DualColorLabel } from \"../color/DualColorLabel\";\nimport useLayerUtilities from \"../../hooks/useLayerUtilities\";\n\nconst RoomInformation = ({ className }) => {\n  const { layerInfo, layerColors } = useContext(LayerContext);\n  const { getTranslation } = useLayerUtilities();\n  const [iconColor, setIconColor] = useState(\"blue\");\n\n  const useStyles = makeStyles((theme) => ({\n    icon: {\n      color: iconColor,\n    },\n  }));\n\n  const classes = useStyles();\n\n  return (\n    <div className={`${className} room-information`}>\n      <div className={`room-information-meta-data`}>\n        <h3 className={\"room-information-header\"}>Name </h3>\n        <span className={\"room-information-text\"}>\n          {layerInfo.label || \"Nothing Selected\"}\n        </span>\n        <h3 className={\"room-information-header\"}>Description </h3>\n        <span className={\"room-information-text\"}>\n          {layerInfo.description || \"Nothing Selected\"}\n        </span>\n      </div>\n      {layerInfo.class && (\n        <div className={`room-information-icon`}>\n          <SVG src={getTranslation(layerInfo.class).icon} />\n          <DualColorLabel\n            left={layerColors[layerInfo.class].primary}\n            right={layerColors[layerInfo.class].secondary}\n          >\n            {getTranslation(layerInfo.class).fullName}\n          </DualColorLabel>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RoomInformation;\n","import React, { useContext, useRef, useEffect } from \"react\";\nimport { LayerContext } from \"../../../context/LayerContext\";\nimport { Button, makeStyles } from \"@material-ui/core\";\n\n// Change Per Second Limiter (cps)\n// Limits the number of color changes that can be made per second. Prevents\n// overloading the React Update Queue with too many color change requests\nconst _cpsLimiter = 45;\n// Calculates the length of the change window to facilitate the cps, in milliseconds\nconst cpsLimiterMs = (1 / _cpsLimiter) * 1000;\n\nconst useStyles = makeStyles((theme) => ({\n  header: { fontFamily: theme.fontFamily },\n}));\n\nconst OptionColors = () => {\n  const classes = useStyles();\n  const { colorPalette, setColorPallete, resetColorPalette } =\n    useContext(LayerContext);\n  const colorChangeTimeout = useRef(null);\n\n  const onChange = (e, i) => {\n    if (!colorChangeTimeout.current) {\n      colorChangeTimeout.current = setTimeout(() => {\n        colorChangeTimeout.current = null;\n      }, cpsLimiterMs);\n\n      setColorPallete((foo) => {\n        return foo.map((bar, j) => {\n          if (i == j) {\n            return e.target.value;\n          } else {\n            return bar;\n          }\n        });\n      });\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      if (colorChangeTimeout.current) {\n        clearTimeout(colorChangeTimeout.current);\n        colorChangeTimeout.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div>\n      {colorPalette && (\n        <>\n          {colorPalette.map((color, i) => (\n            <label className=\"input-group\" key={`color-options-${i}`}>\n              <span className={`u-margin-right-auto ${classes}`}>\n                Color #{i}\n              </span>\n              <input\n                type=\"color\"\n                value={color}\n                onChange={(e) => {\n                  onChange(e, i);\n                }}\n              ></input>\n            </label>\n          ))}\n          <Button variant=\"contained\" onClick={resetColorPalette}>\n            Reset Colors\n          </Button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default OptionColors;\n","import React, { useContext } from \"react\";\nimport { DualColorLabel } from \"../../color/DualColorLabel\";\nimport \"./OptionLegend.scss\";\nimport { LayerContext } from \"../../../context/LayerContext\";\nimport useLayerUtilities from \"../../../hooks/useLayerUtilities\";\n\nexport const OptionLegend = () => {\n  const { layerColors } = useContext(LayerContext);\n  const { getTranslation } = useLayerUtilities();\n\n  return (\n    <div class=\"option-legend\">\n      {layerColors &&\n        Object.keys(layerColors).map((key, i) => (\n          <DualColorLabel\n            className=\"option-legend-label-margin\"\n            left={layerColors[key].primary}\n            right={layerColors[key].secondary}\n          >\n            {getTranslation(key).fullName}\n          </DualColorLabel>\n        ))}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { VisuallyHidden } from \"@react-aria/visually-hidden\";\nimport { useToggleState } from \"@react-stately/toggle\";\nimport { useFocusRing } from \"@react-aria/focus\";\nimport { useSwitch } from \"@react-aria/switch\";\n\nfunction Switch(props) {\n  let state = useToggleState(props);\n  let ref = React.useRef();\n  let { inputProps } = useSwitch(props, state, ref);\n  let { isFocusVisible, focusProps } = useFocusRing();\n\n  return (\n    <>\n      <VisuallyHidden>\n        <input {...inputProps} {...focusProps} ref={ref} />\n      </VisuallyHidden>\n      <svg width={40} height={24} aria-hidden=\"true\" style={{ marginRight: 4 }}>\n        <rect\n          x={4}\n          y={4}\n          width={32}\n          height={16}\n          rx={8}\n          fill={state.isSelected ? \"orange\" : \"gray\"}\n        />\n        <circle cx={state.isSelected ? 28 : 12} cy={12} r={5} fill=\"white\" />\n        {isFocusVisible && (\n          <rect\n            x={1}\n            y={1}\n            width={38}\n            height={22}\n            rx={11}\n            fill=\"none\"\n            stroke=\"orange\"\n            strokeWidth={2}\n          />\n        )}\n      </svg>\n      {props.children}\n    </>\n  );\n}\n\nexport default Switch;\n","import React, { useContext } from \"react\";\nimport Switch from \"../../aria-components/Switch\";\nimport { MapContext } from \"../../../context/MapContext\";\nimport \"./OptionPattern.scss\";\n\nconst OptionPattern = () => {\n  const { patterns, setPatterns } = useContext(MapContext);\n  return (\n    <div className=\"options-pattern\">\n      <label className=\"input-group\">\n        <span className=\"u-margin-right-auto\">Turn On Patterns</span>\n        <Switch\n          onChange={() => {\n            setPatterns((foo) => !foo);\n          }}\n          isSelected={patterns}\n        />\n      </label>\n    </div>\n  );\n};\n\nexport default OptionPattern;\n","import React, { useContext } from \"react\";\nimport { LayerContext } from \"../../../context/LayerContext\";\nimport \"./OptionFonts.scss\";\n\nconst OptionFonts = () => {\n  const {\n    layerFontFamilies,\n    selectedFontFamily,\n    setSelectedFontFamily,\n    layerFontWeights,\n    selectedFontWeight,\n    setSelectedFontWeight,\n  } = useContext(LayerContext);\n\n  const onFontFamilyChange = (e) => {\n    setSelectedFontFamily(e.target.value);\n  };\n\n  const onFontWeightChange = (e) => {\n    setSelectedFontWeight(e.target.value);\n  };\n\n  return (\n    <div class=\"option-fonts\">\n      <label className=\"input-group\">\n        <span className=\"u-margin-right-auto\">Font Family</span>\n        <select name=\"font\" onChange={onFontFamilyChange}>\n          {layerFontFamilies.map((font) => (\n            <option\n              value={font}\n              selected={font === selectedFontFamily}\n              key={`fonts-${font}`}\n            >\n              {font}\n            </option>\n          ))}\n        </select>\n      </label>\n      <label className=\"input-group\">\n        <span className=\"u-margin-right-auto\">Font Weight</span>\n        <select name=\"font\" onChange={onFontWeightChange}>\n          {layerFontWeights.map((weight) => (\n            <option\n              value={weight}\n              selected={weight === selectedFontWeight}\n              key={`weight-${weight}`}\n            >\n              {weight}\n            </option>\n          ))}\n        </select>\n      </label>\n    </div>\n  );\n};\n\nexport default OptionFonts;\n","import React, { useContext } from \"react\";\nimport OptionColors from \"./colors/OptionColors\";\nimport { OptionLegend } from \"./legend/OptionLegend\";\nimport \"./Options.scss\";\nimport OptionPattern from \"./patterns/OptionPattern\";\nimport { Divider } from \"@material-ui/core\";\nimport OptionFonts from \"./fonts/OptionFonts\";\n\nconst Options = ({ className }) => {\n  return (\n    <div className={`${className} options`}>\n      <div className=\"u-padding-bottom-xs\">\n        <h1 className=\"u-margin-top-0 u-text-align-center\">Legend</h1>\n        <OptionLegend />\n      </div>\n      <Divider />\n      <div className=\"u-margin-top-sm\">\n        <h1 className=\"u-margin-top-0 u-text-align-center\">Fonts</h1>\n        <OptionFonts />\n      </div>\n      <Divider />\n      <div className=\"u-margin-top-sm\">\n        <h1 className=\"u-margin-top-0 u-text-align-center\">Options</h1>\n        <OptionPattern />\n      </div>\n      <Divider />\n      <div className=\"u-margin-top-sm\">\n        <h1 className=\"u-margin-top-0 u-text-align-center\">Colors</h1>\n        <OptionColors />\n      </div>\n    </div>\n  );\n};\n\nexport default Options;\n","import React from \"react\";\nimport { useRadioGroupState } from \"@react-stately/radio\";\nimport { useRadioGroup, useRadio } from \"@react-aria/radio\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Divider } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  questionRow: {\n    display: \"flex\",\n    fontSize: 20,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 5,\n    paddingRight: 5,\n  },\n  question: {\n    display: \"flex\",\n    flexDirection: \"row\",\n  },\n}));\n\nlet RadioContext = React.createContext(null);\n\nfunction RadioGroup(props) {\n  let { children, label } = props;\n  const classes = useStyles();\n\n  let state = useRadioGroupState(props);\n  let { radioGroupProps, labelProps } = useRadioGroup(props, state);\n\n  return (\n    <div {...radioGroupProps} className={classes.questionRow}>\n      <span {...labelProps}>{label}</span>\n      <div className={classes.question}>\n        <RadioContext.Provider value={state}>{children}</RadioContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nfunction Radio(props) {\n  let { children } = props;\n  let state = React.useContext(RadioContext);\n  let ref = React.useRef(null);\n  let { inputProps } = useRadio(props, state, ref);\n\n  return (\n    <label style={{ display: \"block\" }}>\n      <input {...inputProps} ref={ref} />\n      {children}\n    </label>\n  );\n}\n\nfunction Questions({ response, makeEdits }) {\n  const onRadioChange = (value, i) => {\n    makeEdits(i, value);\n  };\n\n  return response.map((response, i) => (\n    <>\n      <RadioGroup\n        key={i}\n        value={response.response}\n        label={response.question}\n        onChange={(value) => onRadioChange(value, i)}\n      >\n        <Radio value=\"yes\">Yes</Radio>\n        <Radio value=\"no\">No</Radio>\n      </RadioGroup>\n      <Divider />\n    </>\n  ));\n}\n\nexport default Questions;\n","import React, { useContext, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { QuestionnaireContext } from \"../context/QuestionnaireContext\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nimport Questions from \"./Questions\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n    backgroundColor: \"black\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  button: {\n    backgroundColor: \"black\",\n    color: \"white\",\n    marginTop: 2.5,\n    marginBottom: 2.5,\n  },\n  card: {\n    backgroundColor: \"whitesmoke\",\n    width: \"75%\",\n    alignSelf: \"center\",\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Questionnaire() {\n  const { editableResponse, makeEdits, commitEdits, resetEdits } =\n    useContext(QuestionnaireContext);\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    resetEdits();\n    setOpen(false);\n  };\n\n  const handleSave = () => {\n    // updatingBinary\n    commitEdits();\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <KeyboardEventHandler\n        handleFocusableElements={true}\n        //className={classes.map}\n        handleKeys={[\"q\"]}\n        onKeyEvent={handleClickOpen}\n      />\n      <Button\n        className={classes.button}\n        variant=\"outlined\"\n        color=\"black\"\n        onClick={handleClickOpen}\n        fullWidth={true}\n      >\n        Open User Profile\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              onClick={handleClose}\n              aria-label=\"close\"\n            >\n              <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              Map User Profile\n            </Typography>\n            <Button autoFocus color=\"inherit\" onClick={handleSave}>\n              save\n            </Button>\n          </Toolbar>\n        </AppBar>\n        <Card sx={{ width: 275 }} className={classes.card}>\n          <CardHeader title=\"Answer the following questions\" />\n          <CardContent>\n            {editableResponse && (\n              <Questions response={editableResponse} makeEdits={makeEdits} />\n            )}\n          </CardContent>\n        </Card>\n      </Dialog>\n    </>\n  );\n}\n","import {\n  useTable,\n  useTableCell,\n  useTableColumnHeader,\n  useTableRow,\n  useTableHeaderRow,\n  useTableRowGroup,\n  useTableSelectAllCheckbox,\n  useTableSelectionCheckbox,\n} from \"@react-aria/table\";\nimport { useTableState } from \"@react-stately/table\";\nimport { mergeProps } from \"@react-aria/utils\";\nimport { useRef } from \"react\";\nimport { useFocusRing } from \"@react-aria/focus\";\nimport { useToggleState } from \"@react-stately/toggle\";\nimport { useCheckbox } from \"@react-aria/checkbox\";\nimport { VisuallyHidden } from \"@react-aria/visually-hidden\";\n\nfunction Table(props) {\n  let state = useTableState({\n    ...props,\n    showSelectionCheckboxes: props.selectionMode === \"multiple\",\n  });\n  let ref = useRef();\n  let { collection } = state;\n  let { gridProps } = useTable(props, state, ref);\n\n  return (\n    <table {...gridProps} ref={ref} style={{ borderCollapse: \"collapse\" }}>\n      <TableRowGroup\n        type=\"thead\"\n        style={{\n          borderBottom: \"2px solid var(--spectrum-global-color-gray-800)\",\n        }}\n      >\n        {collection.headerRows.map((headerRow) => (\n          <TableHeaderRow key={headerRow.key} item={headerRow} state={state}>\n            {[...headerRow.childNodes].map((column) =>\n              column.props.isSelectionCell ? (\n                <TableSelectAllCell\n                  key={column.key}\n                  column={column}\n                  state={state}\n                />\n              ) : (\n                <TableColumnHeader\n                  key={column.key}\n                  column={column}\n                  state={state}\n                />\n              )\n            )}\n          </TableHeaderRow>\n        ))}\n      </TableRowGroup>\n      <TableRowGroup type=\"tbody\">\n        {[...collection.body.childNodes].map((row) => (\n          <TableRow key={row.key} item={row} state={state}>\n            {[...row.childNodes].map((cell) =>\n              cell.props.isSelectionCell ? (\n                <TableCheckboxCell key={cell.key} cell={cell} state={state} />\n              ) : (\n                <TableCell key={cell.key} cell={cell} state={state} />\n              )\n            )}\n          </TableRow>\n        ))}\n      </TableRowGroup>\n    </table>\n  );\n}\n\nfunction TableRowGroup({ type: Element, style, children }) {\n  let { rowGroupProps } = useTableRowGroup();\n  return (\n    <Element {...rowGroupProps} style={style}>\n      {children}\n    </Element>\n  );\n}\n\nfunction TableHeaderRow({ item, state, children }) {\n  let ref = useRef();\n  let { rowProps } = useTableHeaderRow({ node: item }, state, ref);\n\n  return (\n    <tr {...rowProps} ref={ref}>\n      {children}\n    </tr>\n  );\n}\n\nfunction TableColumnHeader({ column, state }) {\n  let ref = useRef();\n  let { columnHeaderProps } = useTableColumnHeader(\n    { node: column },\n    state,\n    ref\n  );\n  let { isFocusVisible, focusProps } = useFocusRing();\n  let arrowIcon = state.sortDescriptor?.direction === \"ascending\" ? \"▲\" : \"▼\";\n\n  return (\n    <th\n      {...mergeProps(columnHeaderProps, focusProps)}\n      colSpan={column.colspan}\n      style={{\n        textAlign: column.colspan > 1 ? \"center\" : \"left\",\n        padding: \"5px 10px\",\n        outline: isFocusVisible ? \"2px solid orange\" : \"none\",\n        cursor: \"default\",\n      }}\n      ref={ref}\n    >\n      {column.rendered}\n      {column.props.allowsSorting && (\n        <span\n          aria-hidden=\"true\"\n          style={{\n            padding: \"0 2px\",\n            visibility:\n              state.sortDescriptor?.column === column.key\n                ? \"visible\"\n                : \"hidden\",\n          }}\n        >\n          {arrowIcon}\n        </span>\n      )}\n    </th>\n  );\n}\n\nfunction TableRow({ item, children, state }) {\n  let ref = useRef();\n  let isSelected = state.selectionManager.isSelected(item.key);\n  let { rowProps } = useTableRow({ node: item }, state, ref);\n  let { isFocusVisible, focusProps } = useFocusRing();\n\n  return (\n    <tr\n      style={{\n        background: isSelected\n          ? \"blueviolet\"\n          : item.index % 2\n          ? \"var(--spectrum-alias-highlight-hover)\"\n          : \"none\",\n        color: isSelected ? \"white\" : null,\n        outline: isFocusVisible ? \"2px solid orange\" : \"none\",\n      }}\n      {...mergeProps(rowProps, focusProps)}\n      ref={ref}\n    >\n      {children}\n    </tr>\n  );\n}\n\nfunction TableCell({ cell, state }) {\n  let ref = useRef();\n  let { gridCellProps } = useTableCell({ node: cell }, state, ref);\n  let { isFocusVisible, focusProps } = useFocusRing();\n\n  return (\n    <td\n      {...mergeProps(gridCellProps, focusProps)}\n      style={{\n        padding: \"5px 10px\",\n        outline: isFocusVisible ? \"2px solid orange\" : \"none\",\n        cursor: \"default\",\n      }}\n      ref={ref}\n    >\n      {cell.rendered}\n    </td>\n  );\n}\n\nfunction TableCheckboxCell({ cell, state }) {\n  let ref = useRef();\n  let { gridCellProps } = useTableCell({ node: cell }, state, ref);\n  let { checkboxProps } = useTableSelectionCheckbox(\n    { key: cell.parentKey },\n    state\n  );\n\n  let inputRef = useRef(null);\n  let { inputProps } = useCheckbox(\n    checkboxProps,\n    useToggleState(checkboxProps),\n    inputRef\n  );\n\n  return (\n    <td {...gridCellProps} ref={ref}>\n      <input {...inputProps} />\n    </td>\n  );\n}\n\nfunction TableSelectAllCell({ column, state }) {\n  let ref = useRef();\n  let isSingleSelectionMode = state.selectionManager.selectionMode === \"single\";\n  let { columnHeaderProps } = useTableColumnHeader(\n    { node: column },\n    state,\n    ref\n  );\n\n  let { checkboxProps } = useTableSelectAllCheckbox(state);\n  let inputRef = useRef(null);\n  let { inputProps } = useCheckbox(\n    checkboxProps,\n    useToggleState(checkboxProps),\n    inputRef\n  );\n\n  return (\n    <th {...columnHeaderProps} ref={ref}>\n      {state.selectionManager.selectionMode === \"single\" ? (\n        <VisuallyHidden>{inputProps[\"aria-label\"]}</VisuallyHidden>\n      ) : (\n        <input {...inputProps} ref={inputRef} />\n      )}\n    </th>\n  );\n}\n\nexport default Table;\n","import React, { useContext, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Divider from \"@material-ui/core/Divider\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { QuestionnaireContext } from \"../context/QuestionnaireContext\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nimport Table from \"./aria-components/table/Table\";\nimport {\n  Cell,\n  Column,\n  Row,\n  TableBody,\n  TableHeader,\n} from \"@react-stately/table\";\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n    backgroundColor: \"black\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  header: {\n    display: \"flex\",\n    fontSize: 20,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 200,\n    paddingRight: 200,\n  },\n  questionRow: {\n    display: \"flex\",\n    fontSize: 20,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  question: {\n    display: \"flex\",\n    flexDirection: \"row\",\n  },\n  button: {\n    backgroundColor: \"white\",\n    color: \"black\",\n    marginTop: 2.5,\n    marginBottom: 2.5,\n  },\n  card: {\n    backgroundColor: \"whitesmoke\",\n    //width: \"75%\",\n    alignSelf: \"center\",\n    //height: \"100%\",\n    padding: 50,\n  },\n  cardContent: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n}));\n\nconst Key = ({ children }) => (\n  <div\n    style={{\n      backgroundColor: \"white\",\n      boxShadow: \"0 1px 1px\",\n      borderRadius: 3,\n      minWidth: 30,\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      padding: 4,\n      marginLeft: 8,\n      marginRight: 8,\n    }}\n  >\n    {children}\n  </div>\n);\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function KeyboardShortcuts() {\n  const { editableResponse, makeEdits, commitEdits, resetEdits } =\n    useContext(QuestionnaireContext);\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const shortcuts = [\n    {\n      category: \"Map Controls\",\n      keys: [\"shift\", \"arrow\"],\n      description: \"Pan Map in that direction\",\n    },\n    {\n      category: \"\",\n      keys: [\"shift\", \"+\"],\n      description: \"Zoom in on map\",\n    },\n    {\n      category: \"\",\n      keys: [\"shift\", \"-\"],\n      description: \"Zoom out on map\",\n    },\n    {\n      category: \"\",\n      keys: [\"R\"],\n      description: \"Reset Zoom on map\",\n    },\n    {\n      category: \"\",\n      keys: [\"esc\"],\n      description: \"Exit Map focus and return to controls menu\",\n    },\n    {\n      category: \"\",\n      keys: [],\n      description: \"\",\n    },\n    {\n      category: \"Dialog Control\",\n      keys: [\"Q\"],\n      description: \"Open the questionnaire dialog\",\n    },\n    {\n      category: \"\",\n      keys: [\"K\"],\n      description: \"Open the keyboard keys dialog\",\n    },\n    {\n      category: \"\",\n      keys: [\"esc\"],\n      description: \"Close dialog menu\",\n    },\n  ];\n\n  return (\n    <>\n      <KeyboardEventHandler\n        handleFocusableElements={true}\n        //className={classes.map}\n        handleKeys={[\"k\"]}\n        onKeyEvent={handleClickOpen}\n      />\n      <Button\n        variant=\"outlined\"\n        color=\"black\"\n        onClick={handleClickOpen}\n        className={classes.button}\n        fullWidth={true}\n      >\n        Open Keyboard Shortcuts\n      </Button>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              onClick={handleClose}\n              aria-label=\"close\"\n            >\n              <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              Keyboard Shortcuts\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <Card sx={{ width: 275 }} className={classes.card}>\n          <CardContent className={classes.cardContent}>\n            <Table\n              aria-label=\"Keyboard Shortcuts for the Tool\"\n              style={{ height: \"500px\", width: \"100%\" }}\n            >\n              <TableHeader>\n                <Column>Category</Column>\n                <Column>Shortcut</Column>\n                <Column>Description</Column>\n              </TableHeader>\n              <TableBody>\n                {shortcuts.map(({ category, keys, description }) => (\n                  <Row>\n                    <Cell>{category}</Cell>\n                    <Cell>\n                      <div\n                        style={{\n                          display: \"flex\",\n                          flexDirection: \"row\",\n                          justifyContent: \"center\",\n                        }}\n                      >\n                        {keys.map((shortcut, i) => (\n                          <div\n                            style={{\n                              display: \"flex\",\n                              flexDirection: \"row\",\n                              alignItems: \"center\",\n                            }}\n                          >\n                            <Key>{shortcut}</Key>\n                            {i + 1 != keys.length && \" + \"}\n                          </div>\n                        ))}\n                      </div>\n                    </Cell>\n                    <Cell aria-hidden={category == \"\"}>{description}</Cell>\n                  </Row>\n                ))}\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n        {/* <div className={classes.header}>\n            <span>Key</span>\n            <span>Description</span>\n          </div>\n          {shortcuts.map(({ key, description }, i) => (\n            <React.Fragment key={i}>\n              <div className={classes.questionRow}>\n                <span>{key}</span>\n                <span>{description}</span>\n              </div>\n              <Divider />\n            </React.Fragment>\n          ))} */}\n      </Dialog>\n    </>\n  );\n}\n","import React from \"react\";\nimport \"./Shortcuts.scss\";\nimport Questionnaire from \"../Questionnaire\";\nimport KeyboardShortcuts from \"../KeyboardShortcuts\";\n\nconst Shortcuts = ({ className }) => {\n  return (\n    <div className={`${className} shortcuts`}>\n      <Questionnaire />\n      <KeyboardShortcuts />\n    </div>\n  );\n};\n\nexport default Shortcuts;\n","import React, { useContext } from \"react\";\nimport { MapContext } from \"../../context/MapContext\";\nimport \"./Title.scss\";\n\nexport const Title = ({ className }) => {\n  const { mapTitle } = useContext(MapContext);\n  return (\n    <div className={`${className} title`}>\n      <h1>{mapTitle}</h1>\n    </div>\n  );\n};\n\nexport default Title;\n","import React, { useContext } from \"react\";\nimport \"./Dashboard.scss\";\n\nimport Map from \"./components/map/Map\";\nimport Controls from \"./components/controls/Controls\";\nimport RoomInformation from \"./components/room-information/RoomInformation\";\nimport Options from \"./components/options/Options\";\nimport Shortcuts from \"./components/shortcuts/Shortcuts\";\nimport Title from \"./components/title/Title\";\nimport { LayerContext } from \"./context/LayerContext\";\nimport { MuiThemeProvider, createTheme } from \"@material-ui/core/styles\";\n\nconst Dashboard = () => {\n  const { selectedFontFamily } = useContext(LayerContext);\n  const THEME = createTheme({\n    typography: {\n      fontFamily: selectedFontFamily,\n      fontSize: 14,\n      fontWeightLight: 300,\n      fontWeightRegular: 400,\n      fontWeightMedium: 500,\n    },\n  });\n\n  return (\n    <MuiThemeProvider theme={THEME}>\n      <div className=\"dashboard\" style={{ fontFamily: selectedFontFamily }}>\n        <Title className=\"dashboard-title\"></Title>\n        <Map className=\"dashboard-map\"></Map>\n        <Controls className=\"dashboard-controls\"></Controls>\n        <RoomInformation className=\"dashboard-description\"></RoomInformation>\n        <Shortcuts className=\"dashboard-shortcuts\"></Shortcuts>\n        <Options className=\"dashboard-options\"></Options>\n      </div>\n    </MuiThemeProvider>\n  );\n};\n\nexport default Dashboard;\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.scss\";\nimport MapProvider from \"./context/MapContext\";\nimport QuestionnaireProvider from \"./context/QuestionnaireContext\";\nimport LayerProvider from \"./context/LayerContext\";\n\nimport Dashboard from \"./Dashboard\";\n\nfunction App() {\n  return (\n    <MapProvider>\n      <QuestionnaireProvider>\n        <LayerProvider>\n          <Dashboard />\n        </LayerProvider>\n      </QuestionnaireProvider>\n    </MapProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}